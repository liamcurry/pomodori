!function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e){"use strict";var t=e("mithril"),n=e("./pomodori");window.onload=function(){t.module(document.getElementById("main"),n)}},{"./pomodori":2,mithril:5}],2:[function(e,t){"use strict";function n(){return{settings:l.model(),timer:a.viewModel(),showSettings:i.prop(!1)}}function r(){var e=void 0===arguments[0]?n():arguments[0];return function(){var t=function(){e.showSettings(!e.showSettings())};return{vm:e,toggleSettings:t,settings:l.controller(e.settings),timer:a.controller(e.timer)}}()}function o(){var e=void 0===arguments[0]?r():arguments[0];return function(){return i(".pomodori",[i("label",[i('input[type="checkbox"]',{onchange:e.toggleSettings}),""+(e.vm.showSettings()?"Hide":"Show")+" settings"]),i("div",{style:{display:e.vm.showSettings()?"block":"none"}},[l.view(e.settings)]),a.view(e.timer),i("button",{onclick:e.timer.toggle},e.timer.vm.ticker()?"Stop":"Start")])}()}var i=e("mithril"),a=e("./timer"),l=e("./settings");t.exports={viewModel:n,controller:r,view:o}},{"./settings":3,"./timer":4,mithril:5}],3:[function(e,t){"use strict";function n(){return{pomodoro:a.prop(25),shortBreak:a.prop(5),longBreak:a.prop(15)}}function r(){var e=void 0===arguments[0]?n():arguments[0];return function(){return{model:e}}()}function o(e,t){return a("label",[a("span",e),a('input[type="number"][min="0"]',{onchange:a.withAttr("value",t),value:t()})])}function i(){var e=void 0===arguments[0]?r():arguments[0];return function(){return a("ul.options",[a("li",[o("Pomodoro",e.model.pomodoro)]),a("li",[o("Short Break",e.model.shortBreak)]),a("li",[o("Long Break",e.model.longBreak)])])}()}var a=e("mithril");t.exports={model:n,view:i,controller:r}},{mithril:5}],4:[function(e,t){"use strict";function n(){var e=function(){var e=n(),t=Math.floor(e/6e4),r=Math.floor(e%6e4/1e3);return""+t+":"+r},t=i.prop(15e5),n=i.prop(t()),r=i.prop();return{msTotal:t,msLeft:n,ticker:r,toString:e}}function r(){var e=void 0===arguments[0]?n():arguments[0];return function(){var t,n=function(){var n=Date.now()-t;i.startComputation(),e.msLeft(Math.max(e.msLeft()-n,0)),i.endComputation(),t=Date.now()},r=function(){e.ticker(setInterval(n,1e3)),t=Date.now()},o=function(){e.ticker(clearInterval(e.ticker()))},a=function(){l()?o():r()},l=i.prop();return{vm:e,start:r,stop:o,toggle:a}}()}function o(e){return i(".timer",[i(".timer-circle"),i("p",[i(".span","Time left"),i(".span",e.vm.toString())])])}var i=e("mithril");t.exports={viewModel:n,controller:r,view:o}},{mithril:5}],5:[function(e,t){var n=function r(e,t){function n(e){j=e.document,A=e.location,B=e.cancelAnimationFrame||e.clearTimeout,M=e.requestAnimationFrame||e.setTimeout}function o(){var e,t=[].slice.call(arguments),n=!(null==t[1]||I.call(t[1])!==L||"tag"in t[1]||"subtree"in t[1]),r=n?t[1]:{},o="class"in r?"class":"className",i={tag:"div",attrs:{}},a=[];if(I.call(t[0])!=D)throw new Error("selector in m(selector, attrs, children) should be a string");for(;e=H.exec(t[0]);)if(""===e[1]&&e[2])i.tag=e[2];else if("#"===e[1])i.attrs.id=e[2];else if("."===e[1])a.push(e[2]);else if("["===e[3][0]){var l=z.exec(e[3]);i.attrs[l[1]]=l[3]||(l[2]?"":!0)}a.length>0&&(i.attrs[o]=a.join(" "));var s=n?t[2]:t[1];i.children=I.call(s)===R?s:t.slice(n?2:1);for(var u in r)i.attrs[u]=u===o?(i.attrs[u]||"")+" "+r[u]:r[u];return i}function i(e,n,r,o,u,d,f,h,m,g,p){if((null==u||null==u.toString())&&(u=""),"retain"===u.subtree)return d;var v=I.call(d),y=I.call(u);if(null==d||v!==y){if(null!=d)if(r&&r.nodes){var w=h-o,x=w+(y===R?u:d.nodes).length;s(r.nodes.slice(w,x),r.slice(w,x))}else d.nodes&&s(d.nodes,d);d=new u.constructor,d.tag&&(d={}),d.nodes=[]}if(y===R){for(var b=0,N=u.length;N>b;b++)I.call(u[b])===R&&(u=u.concat.apply([],u),b--);for(var E=[],k=d.length===u.length,C=0,S=1,T=2,O=3,A={},M=[],B=!1,b=0;b<d.length;b++)d[b]&&d[b].attrs&&null!=d[b].attrs.key&&(B=!0,A[d[b].attrs.key]={action:S,index:b});if(B){u.indexOf(null)>-1&&(u=u.filter(function(e){return null!=e}));var H=!1;if(u.length!=d.length)H=!0;else for(var z,K,b=0;z=d[b],K=u[b];b++)if(z.attrs&&K.attrs&&z.attrs.key!=K.attrs.key){H=!0;break}if(H){for(var b=0,N=u.length;N>b;b++)if(u[b]&&u[b].attrs)if(null!=u[b].attrs.key){var U=u[b].attrs.key;A[U]=A[U]?{action:O,index:b,from:A[U].index,element:e.childNodes[A[U].index]||j.createElement("div")}:{action:T,index:b}}else M.push({index:b,element:e.childNodes[b]||j.createElement("div")});var $=[];for(var F in A)$.push(A[F]);for(var G,P=$.sort(a),V=new Array(d.length),b=0;G=P[b];b++){if(G.action===S&&(s(d[G.index].nodes,d[G.index]),V.splice(G.index,1)),G.action===T){var _=j.createElement("div");_.key=u[G.index].attrs.key,e.insertBefore(_,e.childNodes[G.index]||null),V.splice(G.index,0,{attrs:{key:u[G.index].attrs.key},nodes:[_]})}G.action===O&&(e.childNodes[G.index]!==G.element&&null!==G.element&&e.insertBefore(G.element,e.childNodes[G.index]||null),V[G.index]=d[G.from])}for(var b=0,N=M.length;N>b;b++){var G=M[b];e.insertBefore(G.element,e.childNodes[G.index]||null),V[G.index]=d[G.index]}d=V,d.nodes=new Array(e.childNodes.length);for(var Y,b=0;Y=e.childNodes[b];b++)d.nodes[b]=Y}}for(var b=0,W=0,N=u.length;N>b;b++){var X=i(e,n,d,h,u[b],d[W],f,h+C||C,m,g,p);X!==t&&(X.nodes.intact||(k=!1),C+=X.$trusted?(X.match(/<[^\/]|\>\s*[^<]/g)||[]).length:I.call(X)===R?X.length:1,d[W++]=X)}if(!k){for(var b=0,N=u.length;N>b;b++)null!=d[b]&&E.push.apply(E,d[b].nodes);for(var Q,b=0;Q=d.nodes[b];b++)null!=Q.parentNode&&E.indexOf(Q)<0&&s([Q],[d[b]]);u.length<d.length&&(d.length=u.length),d.nodes=E}}else if(null!=u&&y===L){u.attrs||(u.attrs={}),d.attrs||(d.attrs={});var Z=Object.keys(u.attrs),et=Z.length>("key"in u.attrs?1:0);if((u.tag!=d.tag||Z.join()!=Object.keys(d.attrs).join()||u.attrs.id!=d.attrs.id)&&(d.nodes.length&&s(d.nodes),d.configContext&&typeof d.configContext.onunload===q&&d.configContext.onunload()),I.call(u.tag)!=D)return;var Q,tt=0===d.nodes.length;if(u.attrs.xmlns?g=u.attrs.xmlns:"svg"===u.tag?g="http://www.w3.org/2000/svg":"math"===u.tag&&(g="http://www.w3.org/1998/Math/MathML"),tt?(Q=u.attrs.is?g===t?j.createElement(u.tag,u.attrs.is):j.createElementNS(g,u.tag,u.attrs.is):g===t?j.createElement(u.tag):j.createElementNS(g,u.tag),d={tag:u.tag,attrs:et?l(Q,u.tag,u.attrs,{},g):u.attrs,children:null!=u.children&&u.children.length>0?i(Q,u.tag,t,t,u.children,d.children,!0,0,u.attrs.contenteditable?Q:m,g,p):u.children,nodes:[Q]},d.children&&!d.children.nodes&&(d.children.nodes=[]),"select"===u.tag&&u.attrs.value&&l(Q,u.tag,{value:u.attrs.value},{},g),e.insertBefore(Q,e.childNodes[h]||null)):(Q=d.nodes[0],et&&l(Q,u.tag,u.attrs,d.attrs,g),d.children=i(Q,u.tag,t,t,u.children,d.children,!1,0,u.attrs.contenteditable?Q:m,g,p),d.nodes.intact=!0,f===!0&&null!=Q&&e.insertBefore(Q,e.childNodes[h]||null)),typeof u.attrs.config===q){var nt=d.configContext=d.configContext||{},rt=function(e,t){return function(){return e.attrs.config.apply(e,t)}};p.push(rt(u,[Q,!tt,nt,d]))}}else if(typeof y!=q){var E;0===d.nodes.length?(u.$trusted?E=c(e,h,u):(E=[j.createTextNode(u)],e.nodeName.match(J)||e.insertBefore(E[0],e.childNodes[h]||null)),d="string number boolean".indexOf(typeof u)>-1?new u.constructor(u):u,d.nodes=E):d.valueOf()!==u.valueOf()||f===!0?(E=d.nodes,m&&m===j.activeElement||(u.$trusted?(s(E,d),E=c(e,h,u)):"textarea"===n?e.value=u:m?m.innerHTML=u:((1===E[0].nodeType||E.length>1)&&(s(d.nodes,d),E=[j.createTextNode(u)]),e.insertBefore(E[0],e.childNodes[h]||null),E[0].nodeValue=u)),d=new u.constructor(u),d.nodes=E):d.nodes.intact=!0}return d}function a(e,t){return e.action-t.action||e.index-t.index}function l(e,t,n,r,o){for(var i in n){var a=n[i],l=r[i];if(i in r&&l===a)"value"===i&&"input"===t&&e.value!=a&&(e.value=a);else{r[i]=a;try{if("config"===i||"key"==i)continue;if(typeof a===q&&0===i.indexOf("on"))e[i]=d(a,e);else if("style"===i&&null!=a&&I.call(a)===L){for(var s in a)(null==l||l[s]!==a[s])&&(e.style[s]=a[s]);for(var s in l)s in a||(e.style[s]="")}else null!=o?"href"===i?e.setAttributeNS("http://www.w3.org/1999/xlink","href",a):"className"===i?e.setAttribute("class",a):e.setAttribute(i,a):i in e&&"list"!==i&&"style"!==i&&"form"!==i&&"type"!==i?("input"!==t||e[i]!==a)&&(e[i]=a):e.setAttribute(i,a)}catch(u){if(u.message.indexOf("Invalid argument")<0)throw u}}}return r}function s(e,t){for(var n=e.length-1;n>-1;n--)if(e[n]&&e[n].parentNode){try{e[n].parentNode.removeChild(e[n])}catch(r){}t=[].concat(t),t[n]&&u(t[n])}0!=e.length&&(e.length=0)}function u(e){if(e.configContext&&typeof e.configContext.onunload===q&&e.configContext.onunload(),e.children)if(I.call(e.children)===R)for(var t,n=0;t=e.children[n];n++)u(t);else e.children.tag&&u(e.children)}function c(e,t,n){var r=e.childNodes[t];if(r){var o=1!=r.nodeType,i=j.createElement("span");o?(e.insertBefore(i,r||null),i.insertAdjacentHTML("beforebegin",n),e.removeChild(i)):r.insertAdjacentHTML("beforebegin",n)}else e.insertAdjacentHTML("beforeend",n);for(var a=[];e.childNodes[t]!==r;)a.push(e.childNodes[t]),t++;return a}function d(e,t){return function(n){n=n||event,o.redraw.strategy("diff"),o.startComputation();try{return e.call(t,n)}finally{et()}}}function f(e){var t=$.indexOf(e);return 0>t?$.push(e)-1:t}function h(e){var t=function(){return arguments.length&&(e=arguments[0]),e};return t.toJSON=function(){return e},t}function m(){for(var e,t="all"===o.redraw.strategy(),n=0;e=P[n];n++)_[n]&&o.render(e,V[n].view(_[n]),t);X&&(X(),X=null),Y=null,W=new Date,o.redraw.strategy("diff")}function g(e){return e.slice(rt[o.route.mode].length)}function p(e,t,n){tt={};var r=n.indexOf("?");-1!==r&&(tt=x(n.substr(r+1,n.length)),n=n.substr(0,r));for(var i in t){if(i===n)return o.module(e,t[i]),!0;var a=new RegExp("^"+i.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(a.test(n))return n.replace(a,function(){for(var n=i.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2),a=0,l=n.length;l>a;a++)tt[n[a].replace(/:|\./g,"")]=decodeURIComponent(r[a]);o.module(e,t[i])}),!0}}function v(e){if(e=e||event,!e.ctrlKey&&!e.metaKey&&2!==e.which){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.currentTarget||this,n="pathname"===o.route.mode&&t.search?x(t.search.slice(1)):{};o.route(t[o.route.mode].slice(rt[o.route.mode].length),n)}}function y(){"hash"!=o.route.mode&&A.hash?A.hash=A.hash:e.scrollTo(0,0)}function w(e,t){var n=[];for(var r in e){var o=t?t+"["+r+"]":r,i=e[r];n.push(null!=i&&I.call(i)===L?w(i,o):encodeURIComponent(o)+"="+encodeURIComponent(i))}return n.join("&")}function x(e){for(var t=e.split("&"),n={},r=0,o=t.length;o>r;r++){var i=t[r].split("=");n[b(i[0])]=i[1]?b(i[1]):""}return n}function b(e){return decodeURIComponent(e.replace(/\+/g," "))}function N(e){var n=f(e);s(e.childNodes,F[n]),F[n]=t}function E(e){var t=o.prop();return e.then(t),t.then=function(t,n){return E(e.then(t,n))},t}function k(e,t){function n(e){d=e||u,h.map(function(e){d===s&&e.resolve(f)||e.reject(f)})}function r(e,t,n,r){if((null!=f&&I.call(f)===L||typeof f===q)&&typeof e===q)try{var i=0;e.call(f,function(e){i++||(f=e,t())},function(e){i++||(f=e,n())})}catch(a){o.deferred.onerror(a),f=a,n()}else r()}function i(){var u;try{u=f&&f.then}catch(h){return o.deferred.onerror(h),f=h,d=l,i()}r(u,function(){d=a,i()},function(){d=l,i()},function(){try{d===a&&typeof e===q?f=e(f):d===l&&"function"==typeof t&&(f=t(f),d=a)}catch(i){return o.deferred.onerror(i),f=i,n()}f===c?(f=TypeError(),n()):r(u,function(){n(s)},n,function(){n(d===a&&s)})})}var a=1,l=2,s=3,u=4,c=this,d=0,f=0,h=[];c.promise={},c.resolve=function(e){return d||(f=e,d=a,i()),this},c.reject=function(e){return d||(f=e,d=l,i()),this},c.promise.then=function(e,t){var n=new k(e,t);return d===s?n.resolve(f):d===u?n.reject(f):h.push(n),n.promise}}function C(e){return e}function S(n){if(!n.dataType||"jsonp"!==n.dataType.toLowerCase()){var r=new e.XMLHttpRequest;if(r.open(n.method,n.url,!0,n.user,n.password),r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?n.onload({type:"load",target:r}):n.onerror({type:"error",target:r}))},n.serialize===JSON.stringify&&n.data&&"GET"!==n.method&&r.setRequestHeader("Content-Type","application/json; charset=utf-8"),n.deserialize===JSON.parse&&r.setRequestHeader("Accept","application/json, text/*"),typeof n.config===q){var o=n.config(r,n);null!=o&&(r=o)}var i="GET"!==n.method&&n.data?n.data:"";if(i&&I.call(i)!=D&&i.constructor!=e.FormData)throw"Request data should be either be a string or FormData. Check the `serialize` option in `m.request`";return r.send(i),r}var a="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),l=j.createElement("script");e[a]=function(r){j.body.removeChild(l),n.onload({type:"load",target:{responseText:r}}),e[a]=t},l.onerror=function(){return j.body.removeChild(l),n.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),e[a]=t,!1},l.onload=function(){return!1},l.src=n.url+(n.url.indexOf("?")>0?"&":"?")+(n.callbackKey?n.callbackKey:"callback")+"="+a+"&"+w(n.data||{}),j.body.appendChild(l)}function T(e,t,n){if("GET"===e.method&&"jsonp"!=e.dataType){var r=e.url.indexOf("?")<0?"?":"&",o=w(t);e.url=e.url+(o?r+o:"")}else e.data=n(t);return e}function O(e,t){var n=e.match(/:[a-z]\w+/gi);if(n&&t)for(var r=0;r<n.length;r++){var o=n[r].slice(1);e=e.replace(n[r],t[o]),delete t[o]}return e}var j,A,M,B,L="[object Object]",R="[object Array]",D="[object String]",q="function",I={}.toString,H=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,z=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,J=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/;n(e);var K,U={appendChild:function(e){K===t&&(K=j.createElement("html")),j.documentElement&&j.documentElement!==e?j.replaceChild(e,j.documentElement):j.appendChild(e),this.childNodes=j.childNodes},insertBefore:function(e){this.appendChild(e)},childNodes:[]},$=[],F={};o.render=function(e,n,r){var o=[];if(!e)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var a=f(e),l=e===j,u=l||e===j.documentElement?U:e;l&&"html"!=n.tag&&(n={tag:"html",attrs:{},children:n}),F[a]===t&&s(u.childNodes),r===!0&&N(e),F[a]=i(u,null,t,t,n,F[a],!1,0,null,t,o);for(var c=0,d=o.length;d>c;c++)o[c]()},o.trust=function(e){return e=new String(e),e.$trusted=!0,e},o.prop=function(e){return(null!=e&&I.call(e)===L||typeof e===q)&&typeof e.then===q?E(e):h(e)};var G,P=[],V=[],_=[],Y=null,W=0,X=null,Q=16;o.module=function(e,t){if(!e)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var n=P.indexOf(e);0>n&&(n=P.length);var r=!1;if(_[n]&&typeof _[n].onunload===q){var i={preventDefault:function(){r=!0}};_[n].onunload(i)}if(!r){o.redraw.strategy("all"),o.startComputation(),P[n]=e;var a=G=t,l=new t.controller;return a===G&&(_[n]=l,V[n]=t),et(),_[n]}},o.redraw=function(t){Y&&t!==!0?(new Date-W>Q||M===e.requestAnimationFrame)&&(Y>0&&B(Y),Y=M(m,Q)):(m(),Y=M(function(){Y=null},Q))},o.redraw.strategy=o.prop();var Z=0;o.startComputation=function(){Z++},o.endComputation=function(){Z=Math.max(Z-1,0),0===Z&&o.redraw()};var et=function(){"none"==o.redraw.strategy()?(Z--,o.redraw.strategy("diff")):o.endComputation()};o.withAttr=function(e,t){return function(n){n=n||event;var r=n.currentTarget||this;t(e in r?r[e]:r.getAttribute(e))}};var tt,nt,rt={pathname:"",hash:"#",search:"?"},ot=function(){};return o.route=function(){if(0===arguments.length)return nt;if(3===arguments.length&&I.call(arguments[1])===D){var t=arguments[0],n=arguments[1],r=arguments[2];ot=function(e){var i=nt=g(e);p(t,r,i)||o.route(n,!0)};var i="hash"===o.route.mode?"onhashchange":"onpopstate";e[i]=function(){nt!=g(A[o.route.mode])&&ot(A[o.route.mode])},X=y,e[i]()}else if(arguments[0].addEventListener){{var a=arguments[0];arguments[1],arguments[2]}a.href=("pathname"!==o.route.mode?A.pathname:"")+rt[o.route.mode]+this.attrs.href,a.removeEventListener("click",v),a.addEventListener("click",v)}else if(I.call(arguments[0])===D){nt=arguments[0];var l=arguments[1]||{},s=nt.indexOf("?"),u=s>-1?x(nt.slice(s+1)):{};for(var c in l)u[c]=l[c];var d=w(u),f=s>-1?nt.slice(0,s):nt;d&&(nt=f+(-1===f.indexOf("?")?"?":"&")+d);var h=(3===arguments.length?arguments[2]:arguments[1])===!0;e.history.pushState?(X=function(){e.history[h?"replaceState":"pushState"](null,j.title,rt[o.route.mode]+nt),y()},ot(rt[o.route.mode]+nt)):A[o.route.mode]=nt}},o.route.param=function(e){if(!tt)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return tt[e]},o.route.mode="search",o.deferred=function(){var e=new k;return e.promise=E(e.promise),e},o.deferred.onerror=function(e){if("[object Error]"===I.call(e)&&!e.constructor.toString().match(/ Error/))throw e},o.sync=function(e){function t(e,t){return function(o){return a[e]=o,t||(n="reject"),0===--i&&(r.promise(a),r[n](a)),o}}var n="resolve",r=o.deferred(),i=e.length,a=new Array(i);if(e.length>0)for(var l=0;l<e.length;l++)e[l].then(t(l,!0),t(l,!1));else r.resolve([]);return r.promise},o.request=function(e){e.background!==!0&&o.startComputation();var t=o.deferred(),n=e.dataType&&"jsonp"===e.dataType.toLowerCase(),r=e.serialize=n?C:e.serialize||JSON.stringify,i=e.deserialize=n?C:e.deserialize||JSON.parse,a=e.extract||function(e){return 0===e.responseText.length&&i===JSON.parse?null:e.responseText};return e.url=O(e.url,e.data),e=T(e,e.data,r),e.onload=e.onerror=function(n){try{n=n||event;var r=("load"===n.type?e.unwrapSuccess:e.unwrapError)||C,l=r(i(a(n.target,e)));if("load"===n.type)if(I.call(l)===R&&e.type)for(var s=0;s<l.length;s++)l[s]=new e.type(l[s]);else e.type&&(l=new e.type(l));t["load"===n.type?"resolve":"reject"](l)}catch(n){o.deferred.onerror(n),t.reject(n)}e.background!==!0&&o.endComputation()},S(e),t.promise(e.initialValue),t.promise},o.deps=function(t){return n(e=t||e),e},o.deps.factory=r,o}("undefined"!=typeof window?window:{});"undefined"!=typeof t&&null!==t&&t.exports?t.exports=n:"function"==typeof define&&define.amd&&define(function(){return n})},{}]},{},[1]);
//# sourceMappingURL=index.min.js.map